﻿@using System
@using System.Linq
@using OnlineCourse.Panel.Utils.Extentions

@{
    var errorList = Html.GetNotifications(NotificationType.Error);
    var warningList = Html.GetNotifications(NotificationType.Warning);
    var successList = Html.GetNotifications(NotificationType.Success);
    var infoList = Html.GetNotifications(NotificationType.Info);

}
@if ((errorList != null && errorList.Count() > 0) || (warningList != null && warningList.Count() > 0) || (successList != null && successList.Count() > 0) || (infoList != null && infoList.Count() > 0))
{

    <div class="kc-alert">

        <!-- display errors -->
        @if (errorList != null)
    {

    <div class="alert alert-danger alert-dismissable">
        @*<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>*@
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        @{
                var enumerable = errorList as string[] ?? errorList.ToArray();
        }
        @if (enumerable.Count() > 1)
            {
            @*<strong><span class="glyphicon glyphicon-remove"></span>There are @enumerable.Count() errors: </strong>*@
            <ul>
                @foreach (String message in enumerable)
                    {
                    <li>@Html.Raw(message)</li>
                    }
            </ul>
            }
            else
            {
                if (string.IsNullOrEmpty(enumerable.First()))
                {
            <strong><span class="fa fa-times"></span>خطا! </strong>
                }
                else
                {
            @Html.Raw(enumerable.First())
                }
            }
    </div>
                }

        <!-- display warnings -->
        @if (warningList != null)
    {
    <div class="alert alert-warning alert-dismissable">
        @*<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>*@
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>


        @{
                var enumerable = warningList as string[] ?? warningList.ToArray();
        }
        @if (enumerable.Count() > 1)
            {
            @*<strong><span class="glyphicon glyphicon-warning-sign"></span>There are @enumerable.Count() warnings: </strong>*@
            <ul>
                @foreach (String message in enumerable)
                    {
                    <li>@Html.Raw(message)</li>
                    }
            </ul>
            }
            else
            {
            @*<strong><span class="glyphicon glyphicon-warning-sign"></span>اخطار: </strong>*@
            @Html.Raw(enumerable.First())
            }
    </div>
                }

        <!-- display success -->
        @if (successList != null)
    {
    <div class="alert alert-success alert-dismissable">
        @*<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>*@
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>


        @{
                var enumerable = successList as string[] ?? successList.ToArray();
        }
        @if (enumerable.Count() > 1)
            {
            @*<strong><span class="glyphicon glyphicon-ok"></span>There are @enumerable.Count() successful notifications: </strong>*@
            <ul>
                @foreach (String message in enumerable)
                    {
                    <li>@Html.Raw(message)</li>
                    }
            </ul>
            }
            else
            {
                if (string.IsNullOrEmpty(enumerable.First()))
                {

            <strong><span class="glyphicon glyphicon-ok"></span>با موفقیت انجام شد! </strong>
                }
                else
                {
            @Html.Raw(enumerable.First())
                }
            }
    </div>
                }

        <!-- display success -->
        @if (infoList != null)
    {
    <div class="alert alert-info alert-dismissable">
        @*<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>*@
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>


        @{
                var enumerable = infoList as string[] ?? infoList.ToArray();
        }
        @if (enumerable.Count() > 1)
            {
            <strong><span class="glyphicon glyphicon-info-sign"></span>There are @enumerable.Count() notifications: </strong>
            <ul>
                @foreach (String message in enumerable)
                    {
                    <li>@Html.Raw(message)</li>
                    }
            </ul>
            }
            else
            {
            <strong><span class="glyphicon glyphicon-info-sign"></span></strong>
            @Html.Raw(enumerable.First())
            }
    </div>
                }


    </div>
    <style>
        .kc-alert {
            margin-bottom: 15px !important;
            text-align: center !important;
        }

            .kc-alert .alert {
                color: white !important;
                margin-bottom: 5px !important;
                padding: 10px !important;
                border-radius: 0 !important;
            }

            .kc-alert .alert-success {
                background-color: #00a65a !important;
            }

            .kc-alert .alert-danger {
                background-color: #dd4b39 !important;
            }

            .kc-alert .alert-warning {
                background-color: #f39c12 !important;
            }

            .kc-alert .alert-info {
                background-color: #00c0ef !important;
            }

            .kc-alert .alert-dismissable .close {
                color: white !important;
            }
    </style>
            }